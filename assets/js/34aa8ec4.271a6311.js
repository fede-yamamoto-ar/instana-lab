"use strict";(self.webpackChunkswat_hub=self.webpackChunkswat_hub||[]).push([[808],{476:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>a,default:()=>d,frontMatter:()=>r,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"instana/applications-and-ibm-middleware/ibm-middleware/index","title":"2. Monitoring IBM Middleware","description":"Configure the Quote of the Day Application and Install/Configure Monitoring","source":"@site/labs/instana/applications-and-ibm-middleware/2-ibm-middleware/index.mdx","sourceDirName":"instana/applications-and-ibm-middleware/2-ibm-middleware","slug":"/instana/applications-and-ibm-middleware/ibm-middleware/","permalink":"/instana-lab/labs/instana/applications-and-ibm-middleware/ibm-middleware/","draft":false,"unlisted":false,"editUrl":"https://github.com/fede-yamamoto-ar/instana-lab/tree/main/labs/instana/applications-and-ibm-middleware/2-ibm-middleware/index.mdx","tags":[],"version":"current","sidebarPosition":5,"frontMatter":{"title":"2. Monitoring IBM Middleware","description":"Configure the Quote of the Day Application and Install/Configure Monitoring","sidebar_position":5},"sidebar":"tutorialSidebar","previous":{"title":"1. Install the Robot Shop Application","permalink":"/instana-lab/labs/instana/applications-and-ibm-middleware/robot-shop-installation/"},"next":{"title":"1. Explore Instana","permalink":"/instana-lab/labs/instana/explore-instana/explore/"}}');var s=t(4848),o=t(8453);const r={title:"2. Monitoring IBM Middleware",description:"Configure the Quote of the Day Application and Install/Configure Monitoring",sidebar_position:5},a="Monitoring IBM Middleware",l={},c=[{value:"2.1: Introduction",id:"21-introduction",level:2},{value:"2.2: Confirm MQ &amp; ACE are running",id:"22-confirm-mq--ace-are-running",level:2},{value:"2.3: Configure Quote of the Day Application to use MQ &amp; ACE",id:"23-configure-quote-of-the-day-application-to-use-mq--ace",level:2},{value:"2.4: Configure ACE and MQ for Resource Monitoring",id:"24-configure-ace-and-mq-for-resource-monitoring",level:2},{value:"Verify the ACE configuration",id:"verify-the-ace-configuration",level:3},{value:"Verify the MQ configuration",id:"verify-the-mq-configuration",level:3},{value:"2.5: Configure ACE and MQ for Tracing",id:"25-configure-ace-and-mq-for-tracing",level:2},{value:"2.6: Configure the ACE and MQ Sensors",id:"26-configure-the-ace-and-mq-sensors",level:2},{value:"ACE Configuration",id:"ace-configuration",level:3},{value:"MQ Configuration",id:"mq-configuration",level:3},{value:"2.7: Further Configuration",id:"27-further-configuration",level:2},{value:"2.8: Summary",id:"28-summary",level:2}];function h(e){const n={a:"a",admonition:"admonition",blockquote:"blockquote",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"monitoring-ibm-middleware",children:"Monitoring IBM Middleware"})}),"\n",(0,s.jsx)(n.h2,{id:"21-introduction",children:"2.1: Introduction"}),"\n",(0,s.jsx)(n.p,{children:"Positioning Instana at existing IBM customers often requires presenting the Instana\nvalue proposition in the context of other IBM middleware used by the client. In this\nsection, you will find guidance about configuring and using Instana with the\nfollowing IBM technologies:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"MQ"}),"\n",(0,s.jsx)(n.li,{children:"App Connect Enterprise (ACE)"}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["These have already been installed for us, ready to be configured on the\n",(0,s.jsx)(n.strong,{children:"mqace"})," virtual machine."]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"architecture-mqace-configs",src:t(2351).A+"",width:"990",height:"591"})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"22-confirm-mq--ace-are-running",children:"2.2: Confirm MQ & ACE are running"}),"\n",(0,s.jsxs)(n.p,{children:["Open a new terminal tab, ssh to the ",(0,s.jsx)(n.strong,{children:"mqace"})," machine and change to the root\nuser:"]}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsxs)(n.p,{children:["Type ",(0,s.jsx)(n.strong,{children:"yes"})," when asked if you are sure that you want to continue connecting."]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sh",children:"ssh jammer@mqace\nsudo -i\n"})}),"\n",(0,s.jsx)(n.p,{children:"Check the current status of MQ and ACE by running the following:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sh",children:"/opt/mqm/bin/dspmq -m QM1 -o all\nsource /opt/ace-11.0.0.11/server/bin/mqsiprofile\n/opt/ace-11.0.0.11/server/bin/mqsilist\n"})}),"\n",(0,s.jsx)(n.p,{children:"If MQ (QM1) and ACE (BK1) are both ready the output will look like this:"}),"\n",(0,s.jsxs)(n.admonition,{type:"note",children:[(0,s.jsxs)(n.p,{children:["You can ignore the status; ",(0,s.jsx)(n.em,{children:"Integration node 'IBNODE' on queue manager 'QM1' is\nstopped"}),". We are only interested in:"]}),(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.em,{children:"QNAME(QM1) STATUS(Running)"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsxs)(n.em,{children:["Integration node 'BK1' with default queue manager 'QM1' and administration\nURI '",(0,s.jsx)(n.a,{href:"http://mqace.ibmdte.local:4414",children:"http://mqace.ibmdte.local:4414"}),"' is running."]})}),"\n"]})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"ace-mq-status",src:t(1577).A+"",width:"2546",height:"342"})}),"\n",(0,s.jsx)(n.p,{children:"Carefully compare your output to the screenshot above."}),"\n",(0,s.jsx)(n.h2,{id:"23-configure-quote-of-the-day-application-to-use-mq--ace",children:"2.3: Configure Quote of the Day Application to use MQ & ACE"}),"\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.strong,{children:"Quote of the Day"})," application has been installed for you on the ",(0,s.jsx)(n.strong,{children:"Demo Apps"})," cluster."]}),"\n",(0,s.jsxs)(n.p,{children:["For more information about the ",(0,s.jsx)(n.strong,{children:"Quote of the Day"})," application, you can go to\nthe ",(0,s.jsx)(n.a,{href:"https://gitlab.com/quote-of-the-day/quote-of-the-day",children:"GitLab repository"}),",\nit is not necessary to go there, but you might be interested in learning more\nabout the application."]}),"\n",(0,s.jsx)(n.p,{children:"For the containerized portion of the application, some technologies are\nautomatically instrumented for monitoring. In addition, the load generation tool\nis continuously running transactions against the application. Let's verify that\nthings are running."}),"\n",(0,s.jsxs)(n.admonition,{title:"IMPORTANT",type:"info",children:[(0,s.jsxs)(n.p,{children:["The following should be completed from the ",(0,s.jsx)(n.strong,{children:"demo-apps"})," host running as the ",(0,s.jsx)(n.strong,{children:"root"})," user."]}),(0,s.jsxs)(n.p,{children:["Open a new terminal tab, ssh to the ",(0,s.jsx)(n.strong,{children:"demo-apps"})," machine and change to the root\nuser:"]}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sh",children:"ssh jammer@demo-apps\nsudo -i\n"})})]}),"\n",(0,s.jsxs)(n.p,{children:["Issue the ",(0,s.jsx)(n.strong,{children:"kubectl get pods"})," command against the ",(0,s.jsx)(n.strong,{children:"qotd"})," namespace/project."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sh",children:"kubectl get pods -n qotd\n"})}),"\n",(0,s.jsx)(n.p,{children:"You should see results similar to this:"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{src:t(4709).A+"",width:"1492",height:"520"})}),"\n",(0,s.jsx)(n.p,{children:"The next step is to modify the configuration of the Quote of the Day application\nso that it uses an external ACE and MQ server. By default, the engraving service\nruns as a cloud native call that doesn't really do anything. We want to modify\nthe configuration so that the engraving service makes a REST API call to ACE and\nACE subsequently calls MQ and puts a message on a queue."}),"\n",(0,s.jsx)(n.p,{children:"You can do this by editing the deployment for the qotd-engraving."}),"\n",(0,s.jsx)(n.p,{children:"Type the following command:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sh",children:"kubectl edit deployment qotd-engraving -n qotd\n"})}),"\n",(0,s.jsx)(n.p,{children:'This will open a "vi" session. Scroll down within the file to line 48. You\nshould see 3 lines of text like the following:'}),"\n",(0,s.jsx)(n.admonition,{type:"tip",children:(0,s.jsxs)(n.p,{children:["If you want to display line numbers in vi, press the ",(0,s.jsx)(n.em,{children:"esc"})," key to enter command\nmode and type ",(0,s.jsxs)(n.strong,{children:['"',":set",' number"']}),"."]})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sh",children:'- name: SUPPLY_CHAIN_URL\n- name: SUPPLY_CHAIN_SIMULATE\n  value: "true"\n'})}),"\n",(0,s.jsxs)(n.p,{children:['You need to modify those lines to look like the following. You need to add a\n"value" parameter that contains the SUPPLY_CHAIN_URL for the ACE flow. The flow\nwithin the ACE server is\n',(0,s.jsx)(n.strong,{children:'"http://<acemq_ipaddress>:7081/supplychain/v1/order"'}),". This is what you\nneed to use for the SUPPLY_CHAIN_URL value, but replace\n",(0,s.jsx)(n.strong,{children:"<acemq_ipaddress>"})," with the IP address of your ACE/MQ server, in this\ndemo environment that is ",(0,s.jsx)(n.strong,{children:"192.168.252.70"}),"."]}),"\n",(0,s.jsxs)(n.p,{children:["You will also need to change the value for the SUPPLY_CHAIN_SIMULATE to\n",(0,s.jsx)(n.strong,{children:"false"})," to disable the simulation."]}),"\n",(0,s.jsx)(n.p,{children:"When you are done, the lines should look like this:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sh",children:'- name: SUPPLY_CHAIN_URL\n//highlight-next-line-emphasise\n  value: http://192.168.252.70:7081/supplychain/v1/order\n- name: SUPPLY_CHAIN_SIMULATE\n//highlight-next-line-emphasise\n  value: "false"\n'})}),"\n",(0,s.jsxs)(n.p,{children:["Press the ",(0,s.jsx)(n.strong,{children:"esc"})," key to enter command mode and write your changes and quit the\nopen file by typing the following and pressing enter:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sh",children:":wq\n"})}),"\n",(0,s.jsxs)(n.p,{children:["As soon as you save your changes, kubernetes will automatically redeploy the\n",(0,s.jsx)(n.strong,{children:'"qotd-engraving"'})," pod with the updated configuration."]}),"\n",(0,s.jsxs)(n.p,{children:["Wait for the ",(0,s.jsx)(n.code,{children:"qotd-engraving"})," pod rollout to complete:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sh",children:"kubectl rollout status deployment qotd-engraving -n qotd\n"})}),"\n",(0,s.jsx)(n.p,{children:"To verify that the changes were applied successfully, let's check the\napplication UI."}),"\n",(0,s.jsxs)(n.p,{children:["In Firefox, open the ",(0,s.jsx)(n.strong,{children:"Quote of the Day"})," bookmark."]}),"\n",(0,s.jsx)(n.admonition,{type:"note",children:(0,s.jsxs)(n.p,{children:["You can manually find the URL by running the command\n",(0,s.jsx)(n.code,{children:"kubectl get ingress -n qotd"})," and opening the URL with\nopen this URL with http:// in front."]})}),"\n",(0,s.jsxs)(n.p,{children:["Once opened click the ",(0,s.jsx)(n.strong,{children:"Order Engraving"})," button."]}),"\n",(0,s.jsxs)(n.p,{children:["Then, click again the ",(0,s.jsx)(n.strong,{children:"Order Engraving"})," button. If successful, you\u2019ll see\n\u201cOrder successfully placed.\u201d"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"order-engraving",src:t(2896).A+"",width:"895",height:"468"})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"24-configure-ace-and-mq-for-resource-monitoring",children:"2.4: Configure ACE and MQ for Resource Monitoring"}),"\n",(0,s.jsx)(n.admonition,{title:"Information Only",type:"warning",children:(0,s.jsx)(n.p,{children:"This section 2.4 is here for informational purposes. There are no steps to\nexecute."})}),"\n",(0,s.jsxs)(n.p,{children:["This section of the lab will help you understand how IBM MQ and IBM App Connect\nEnterprise (ACE) need to be configured for monitoring. There are certain\nconfiguration settings within MQ and ACE that are required in order to get the\nmonitoring KPIs. For ACE, the key KPI's that need to be enabled are Resource Stats and\nFlow Stats. The requirements are documented in the\n",(0,s.jsx)(n.a,{href:"https://www.ibm.com/docs/en/instana-observability/288?topic=ace-configuring-sensor",children:"sensor configuration guide"}),"\nthat is online. You'll see links to those guides further down in this document."]}),"\n",(0,s.jsx)(n.admonition,{type:"note",children:(0,s.jsx)(n.p,{children:"Typically, these steps are performed by the MQ and ACE admins, so you don't need\nto know the step by step procedure. But, you do need to tell the MQ/ACE admins\nwhat the monitoring requirements are."})}),"\n",(0,s.jsx)(n.h3,{id:"verify-the-ace-configuration",children:"Verify the ACE configuration"}),"\n",(0,s.jsxs)(n.p,{children:['The "Resource Monitoring" (Resource Stats) KPIs are already enabled in most customer\nenvironments. But it is worth validating the configuration. It is less common to see ',(0,s.jsx)(n.strong,{children:"Flow Stats"}),"\nenabled.  For example, you can\nuse the ACE ",(0,s.jsx)(n.code,{children:"mqsireportresourcestats"})," and ",(0,s.jsx)(n.code,{children:"mqsireportflowstats"})," commands to view\nthe configuration for ACE."]}),"\n",(0,s.jsxs)(n.p,{children:["Open in a new Terminal tab and SSH to the ",(0,s.jsx)(n.strong,{children:"mqace"})," server"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sh",children:"ssh jammer@mqace\n"})}),"\n",(0,s.jsx)(n.p,{children:"Become root user on mqace node:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sh",children:"sudo -i\n"})}),"\n",(0,s.jsxs)(n.p,{children:["To run the following commands you have to source the ",(0,s.jsx)(n.code,{children:"mqsiprofile"}),":"]}),"\n",(0,s.jsx)(n.admonition,{type:"note",children:(0,s.jsxs)(n.p,{children:["You might see ",(0,s.jsx)(n.em,{children:"'mqsiprofile repetition disallowed'"}),", this can be safely ignored."]})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sh",children:". /opt/ace-11.0.0.11/server/bin/mqsiprofile\n"})}),"\n",(0,s.jsx)(n.admonition,{type:"info",children:(0,s.jsx)(n.p,{children:"In the commands listed, BK1 is the Integration Node name and would be different\nif the Integration Node had a different name.  EG2 is the name of the Integration Server\nand will vary from environment to environment.  There can also be multiple Integration Servers\nconfigured on a single Integration Node."})}),"\n",(0,s.jsx)(n.p,{children:"Here are example commands that you can issue to see the ACE configuration for\nIntegration Node BK1 and Integration Server EG2:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sh",children:"mqsireportresourcestats BK1 -e EG2\n"})}),"\n",(0,s.jsxs)(n.p,{children:['You will see results similar to those shown below. Notice that the "state" is\nset to "true" indicating that ',(0,s.jsx)(n.strong,{children:'"Resource Stats"'})," are enabled and it is set to ",(0,s.jsx)(n.strong,{children:'"Active"'})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{src:t(6435).A+"",width:"549",height:"94"})}),"\n",(0,s.jsx)(n.p,{children:'To see the configuration of the "flow" stats, issue the following command:'}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sh",children:"mqsireportflowstats BK1 -s -e EG2\n"})}),"\n",(0,s.jsxs)(n.p,{children:['You will see results similar to those shown below. Notice that the "state" is\n"active", and the outputFormat is "json". This indicates that the ',(0,s.jsx)(n.strong,{children:'"Flow\nStats"'})," are enabled. The product requires that the output format be set to json\nvs. XML."]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{src:t(547).A+"",width:"1059",height:"94"})}),"\n",(0,s.jsx)(n.h3,{id:"verify-the-mq-configuration",children:"Verify the MQ configuration"}),"\n",(0,s.jsxs)(n.p,{children:["There are fewer requirements for MQ. The sensor will work with the default\nsettings. However, you can have the sensor automatically use thresholds/Events\nthat are setup within the MQ server. If you want to use the built in MQ Events,\nthen you need to set ",(0,s.jsx)(n.strong,{children:"CHLEV"})," (Channel Events) and ",(0,s.jsx)(n.strong,{children:"PERFMEV"})," (Performance\nEvents) to ",(0,s.jsx)(n.strong,{children:"ENABLED"}),". To check those settings, you can issue the following\ncommands."]}),"\n",(0,s.jsxs)(n.p,{children:["To run the following commands you have to source the ",(0,s.jsx)(n.code,{children:"setmqenv"})," and specify the\nqueue manager name (QM1) like below:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sh",children:". /opt/mqm/bin/setmqenv -m QM1\n"})}),"\n",(0,s.jsxs)(n.p,{children:["You first need to run the ",(0,s.jsx)(n.strong,{children:'"runmqsc"'})," command."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sh",children:"/opt/mqm/bin/runmqsc QM1\n"})}),"\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.strong,{children:"runmqsc"})," command won't prompt you with a cursor. That's okay. Just start\ntyping the commands."]}),"\n",(0,s.jsx)(n.p,{children:"Within the runmqsc command prompt you can issue other MQ commands. Type the\nfollowing commands:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sh",children:"display QMGR PUBSUB CHLEV\n"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sh",children:"display QMGR CLUSTER PERFMEV\n"})}),"\n",(0,s.jsx)(n.p,{children:"These commands will give outputs similar to what's shown below."}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{src:t(7020).A+"",width:"954",height:"390"})}),"\n",(0,s.jsx)(n.p,{children:"In the output, you can see that the CHLEV (Channel Events) and PERFMEV\n(Performance Events) is set to disabled."}),"\n",(0,s.jsx)(n.p,{children:"To enable run the following commands:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sh",children:"ALTER QMGR CHLEV(ENABLED)\nALTER QMGR PERFMEV(ENABLED)\n"})}),"\n",(0,s.jsx)(n.p,{children:"Re-run the display command to verify that configuration was changed"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sh",children:"display QMGR PUBSUB CHLEV\ndisplay QMGR CLUSTER PERFMEV\n"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{src:t(8023).A+"",width:"954",height:"422"})}),"\n",(0,s.jsxs)(n.p,{children:["Type ",(0,s.jsx)(n.strong,{children:'"quit"'})," to exit the runmqsc command prompt."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sh",children:"quit\n"})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"25-configure-ace-and-mq-for-tracing",children:"2.5: Configure ACE and MQ for Tracing"}),"\n",(0,s.jsx)(n.admonition,{title:"Information Only",type:"warning",children:(0,s.jsx)(n.p,{children:"This section 2.5 is here for informational purposes. There are no steps to\nexecute."})}),"\n",(0,s.jsx)(n.p,{children:'In addition to the "Resource Monitoring" KPIs, additional settings are required\nto enable Tracing within IBM MQ and ACE. It is important that you understand\nthis process since Tracing is typically not enabled by default in most IBM MQ\nand ACE environments. In this section, we\'ve documented the steps.'}),"\n",(0,s.jsxs)(n.admonition,{type:"note",children:[(0,s.jsx)(n.p,{children:"Typically, these steps are performed by the MQ and ACE admins, so you don't need\nto know the step by step procedure."}),(0,s.jsxs)(n.p,{children:["There are multiple options for Tracing transactions through ACE and MQ.  You options\ndepend on the version of ACE and MQ as well as the platform.  In older versions of ACE and\nMQ, it was necessary to install an Instana ",(0,s.jsx)(n.strong,{children:"User Exit"})," in order to monitor the traces.\n",(0,s.jsx)("span",{className:"hl",children:"In recent versions of ACE and MQ, these products have added support for OpenTelemetry tracing."})]}),(0,s.jsxs)(n.p,{children:[(0,s.jsx)("span",{className:"hl",children:"For ACE, we recommend using OpenTelemetry tracing because it has less overhead."}),"  For MQ, the Instana User Exit and OpenTelemetry have similar characteristics.  For information on OpenTelemtry tracing within ACE and MQ, see the product documentation for ACE and MQ."]}),(0,s.jsx)(n.p,{children:"In this lab, we will be using the Instana User Exit."})]}),"\n",(0,s.jsxs)(n.p,{children:["This section is simply going to describe the process. The procedure is well\ndocumented within the Instana online documentation. You will find a ",(0,s.jsx)(n.strong,{children:"Tracing"}),"\nsection within the sensor documentation that can be found here:\n",(0,s.jsx)(n.a,{href:"https://www.ibm.com/docs/en/instana-observability/288?topic=ace-configuring-tracing-in",children:"https://www.ibm.com/docs/en/instana-observability/288?topic=ace-configuring-tracing-in"})]}),"\n",(0,s.jsx)(n.p,{children:"For ACE, you perform the following steps"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Download a small TAR file from IBM Fix Central. There is a link for ",(0,s.jsx)(n.strong,{children:"artifactory"})," within the\n",(0,s.jsx)(n.a,{href:"https://www.ibm.com/docs/en/instana-observability/288?topic=ace-configuring-tracing-in",children:"Instana documentation"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:["Extract the tar file into the ",(0,s.jsx)(n.strong,{children:"/var/mqsi/shared-classes"})," directory"]}),"\n",(0,s.jsx)(n.li,{children:"Stop the ACE server"}),"\n",(0,s.jsxs)(n.li,{children:['Run the following command to "Install" the ',(0,s.jsx)(n.strong,{children:"User Exit"}),":\n",(0,s.jsx)(n.strong,{children:"mqsichangeflowuserexits BK1 -o -x /var/mqsi/shared-classes"})]}),"\n",(0,s.jsx)(n.li,{children:"Start the ACE server"}),"\n",(0,s.jsxs)(n.li,{children:["Activate the ",(0,s.jsx)(n.strong,{children:"User Exit"})," by typing: ",(0,s.jsx)(n.strong,{children:"mqsichangeflowuserexits BK1 -o -a\nACEOpenTracingUserExit"})]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"The MQ procedure is similar."}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Download a small TAR file from either ",(0,s.jsx)(n.strong,{children:"artifactory"})," or IBM Fix Central. There are links within the\n",(0,s.jsx)(n.a,{href:"https://www.ibm.com/docs/en/instana-observability/288?topic=mq-tracing",children:"Instana documentation"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:["Extract the tar file to ",(0,s.jsx)(n.strong,{children:"/var/mqm/exits64"})]}),"\n",(0,s.jsxs)(n.li,{children:["Edit the ",(0,s.jsx)(n.strong,{children:"/var/mqm/mqs.ini"})," file"]}),"\n",(0,s.jsxs)(n.li,{children:["Add a small section within the ",(0,s.jsx)(n.strong,{children:"/var/mqm/mqs.ini"})," file. The content can be\ncopied and pasted from the Instana documentation."]}),"\n",(0,s.jsx)(n.li,{children:"Restart the Queue Manager"}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)("span",{className:"hl",children:"In the lab environment, these steps have already been performed."})," If you want,\nyou can examine the files and directories specified above."]}),"\n",(0,s.jsx)(n.admonition,{type:"note",children:(0,s.jsx)(n.p,{children:"Even though the TAR files for ACE and MQ look similar, they are unique for each\nmiddleware component."})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"26-configure-the-ace-and-mq-sensors",children:"2.6: Configure the ACE and MQ Sensors"}),"\n",(0,s.jsxs)(n.p,{children:["In this section, you will continue to perform these commands as root on the ",(0,s.jsx)(n.strong,{children:"mqace"})," server."]}),"\n",(0,s.jsxs)(n.admonition,{type:"note",children:[(0,s.jsxs)(n.p,{children:["If you do not have a terminal opened to the ",(0,s.jsx)(n.strong,{children:"mqace"})," server you can run the following:"]}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sh",children:"ssh jammer@mqace\nsudo -i\n"})})]}),"\n",(0,s.jsx)(n.p,{children:"Change to the instana agent configuration directory:"}),"\n",(0,s.jsx)(n.admonition,{type:"info",children:(0,s.jsx)(n.p,{children:"Reminder: The Instana Agent you are about to modify was pre-installed for you on\nthis server."})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sh",children:"cd /opt/instana/agent/etc/instana\n"})}),"\n",(0,s.jsxs)(n.p,{children:["This is the main configuration directory for the Instana Agent and sensors.\nThere are few configuration files in the parent ",(0,s.jsx)(n.code,{children:"etc"})," directory, but most of the\nimportant ones are here."]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"configuration.yaml"})," - Sensor and other agent configuration parameters."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"com.instana.agent.main.sender.Backend.cfg"})," - Contains information on where\nthe Agent is going to send the monitoring data."]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"We are going to be editing the configuration.yaml file. This file contains all\nof the configuration settings for the sensors."}),"\n",(0,s.jsx)(n.p,{children:"Take a backup before you actually edit the configuration.yaml file:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sh",children:"cp configuration.yaml configuration.yaml.bak\n"})}),"\n",(0,s.jsx)(n.p,{children:"This environment is provisioned with Ansible which sets some defaults. Reset the\nconfiguration.yaml file to the default settings before you start editing it."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sh",children:"sed -i '/# BEGIN ANSIBLE MANAGED BLOCK/,/# END ANSIBLE MANAGED BLOCK/d' /opt/instana/agent/etc/instana/configuration.yaml\n"})}),"\n",(0,s.jsxs)(n.p,{children:['Edit configuration.yaml using either "vi" or use other editor like ',(0,s.jsx)(n.code,{children:"nano"})," if you\nprefer."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sh",children:"vi configuration.yaml\n"})}),"\n",(0,s.jsx)(n.admonition,{title:"Important",type:"warning",children:(0,s.jsx)(n.p,{children:'YAML files are very strict about indentation. Each line within the file must be\nindented by 0, 2, 4, 6, etc. spaces. Do not use tabs and do not indent by odd\nnumbers of characters. Make sure that all of the characters line up vertically\nwithin the text. If you see a line that is commented out and you need to\nuncomment it, just remove the single "#" character.'})}),"\n",(0,s.jsx)(n.h3,{id:"ace-configuration",children:"ACE Configuration"}),"\n",(0,s.jsxs)(n.p,{children:["Within the editor, scroll down to the section titled ",(0,s.jsx)(n.strong,{children:'"# IBM ACE"'})]}),"\n",(0,s.jsx)(n.p,{children:"You will need to uncomment the required entries and change the parameters to\nmatch the ACE/MQ configuration on this server. If you read the description on\neach line, you'll see that some parameters are optional."}),"\n",(0,s.jsxs)(n.p,{children:["For more information about about the ACE configuration ",(0,s.jsx)(n.a,{href:"https://www.ibm.com/docs/en/obi/current?topic=technologies-monitoring-app-connect-enterprise",children:"view the online\ndocumentation"})]}),"\n",(0,s.jsxs)(n.p,{children:["In addition, ",(0,s.jsx)(n.a,{href:"https://community.ibm.com/community/user/blogs/hou-fang-zhao/2022/05/24/usefule-tips-for-ace-sensor-configuration",children:"here is a blog that provides additional information on configuring the sensor"})]}),"\n",(0,s.jsx)(n.p,{children:"There are multiple options for configuring the sensor. The information shown\nmatches this particular environment. A few key possibilities:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"If ACE is configured for MQTT, the configuration will be different than if ACE\nis configured to use MQ."}),"\n",(0,s.jsx)(n.li,{children:"The configuration will be different if you are doing remote monitoring vs.\nlocal."}),"\n",(0,s.jsx)(n.li,{children:"Pay careful attention to the required vs. optional parameters. For example, in\nsome environments the MQ Channel Authentication is disabled and you don't need\nto specify credentials."}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"In our demo environment, we have the most common configuration.  ACE is configured to use MQ instead of MQTT.\nAnd, we require credentials to connect to the channel."}),"\n",(0,s.jsxs)(n.p,{children:['One other important factor when setting up ACE monitoring. The user that is connecting to the MQ channel\nneeds to have permissions on some MQ objects such as queues and topics.  If the ACE sensor is not working,\nlook at the MQ log to see if there are any permissions errors.  The MQ log path will be\n"/var/mqm/qmgrs/QM1/error/AMQERR01.LOG" where ',(0,s.jsx)(n.strong,{children:"QM1"})," is the Queue Manager name.  Look for the string\n",(0,s.jsx)(n.strong,{children:"insufficient authority"})," and the log will tell you which object and permissions are missing."]}),"\n",(0,s.jsxs)(n.p,{children:["Edit the ",(0,s.jsx)(n.strong,{children:"IBM ACE"})," section of the file so that it looks like this. If you\nwant, you can copy this text and replace the entire section. Or, you can change\nthe individual parameters."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",children:'# IBM ACE\ncom.instana.plugin.ace:\n  enabled: true\n  poll_rate: 20\n  NodesOrServers: # Multiple Integration node instances or multiple standalone Integration Servers can be specified\n    BK1: # specify the Integration node/server name (required)\n      restApiPort: "4414" # ACE rest api port (required)\n      mqport: "1414" # Sets the port for remote administration IBM MQ channel port or the MQTT server port (required)\n      queuemanagerName: "QM1" # Queue Manager name (required for IBM MQ)\n      channel: "ACE.SVRCONN" # Remote administration channel (required for IBM MQ)\n      mqUsername: "mqm" # MQ channel authentication\'s username if security enabled (optional for IBM MQ)\n      mqPassword: "Passw0rd" # MQ channel authentication\'s password if security enabled (optional for IBM MQ)\n'})}),"\n",(0,s.jsxs)(n.p,{children:["In the example above, ",(0,s.jsx)(n.strong,{children:"QM1"})," is the Queue Manager name. ",(0,s.jsx)(n.strong,{children:"BK1"})," is the name of\nthe Integration Server. ",(0,s.jsx)(n.strong,{children:"ACE.SVRCONN"})," is the channel that the sensor will\nconnect to in order to query the performance KPIs. The username of ",(0,s.jsx)(n.strong,{children:"mqm"})," is\nthe admin username for MQ, but the sensor does not require administrative\npermissions. Any valid MQ user can be specified as long as it has permissions to\nconnect to the channel."]}),"\n",(0,s.jsxs)(n.p,{children:["The Instana engineering team has created a ",(0,s.jsx)(n.a,{href:"https://github.com/instana/content/tree/main/ace-setup-mq",children:"script that will setup all\nof the required permissions within MQ"})," ."]}),"\n",(0,s.jsx)(n.h3,{id:"mq-configuration",children:"MQ Configuration"}),"\n",(0,s.jsxs)(n.p,{children:['Next, you will need to edit the MQ sensor settings. Scroll further down in the\nfile until you find the section titled "IBM MQ". You will be editing this\nsection of the configuration to match the settings of the MQ server. There are a\nnumber of mandatory and optional parameters. For more information on the\nconfiguration settings, see the online documentation:\n',(0,s.jsx)(n.a,{href:"https://www.ibm.com/docs/en/obi/current?topic=technologies-monitoring-mq",children:"link"})]}),"\n",(0,s.jsxs)(n.p,{children:["The MQ sensor also has a number of different possible configurations.  The most common\nis for the sensor to connect to a channel using credentials.  But, it is possible to\nconfigure without credentials by disabling MQ channel authentication.  In addition,\nif the Instana Agent runs as a user that is a member of the ",(0,s.jsx)(n.strong,{children:"mqm"})," group, then the\nsensor will automatically discover and instrument MQ."]}),"\n",(0,s.jsxs)(n.p,{children:["For more information on configuring the MQ sensor, see the product documentation:\n",(0,s.jsx)(n.a,{href:"https://www.ibm.com/docs/en/instana-observability/current?topic=technologies-monitoring-mq#configuring",children:"link"})]}),"\n",(0,s.jsxs)(n.p,{children:["In addition, this blog contains additional debugging steps:\n",(0,s.jsx)(n.a,{href:"https://community.ibm.com/community/user/instana/blogs/tianxing-33ed/2024/05/20/how-to-debug-mq-sensor-connection-problem",children:"link"})]}),"\n",(0,s.jsxs)(n.p,{children:["Edit the ",(0,s.jsx)(n.strong,{children:"# IBM MQ"})," section of the file so that it looks like this. If you\nwant, you can copy this text and replace the entire section. Or, you can change\nthe individual parameters."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",children:'# IBM MQ\ncom.instana.plugin.ibmmq:\n  enabled: true\n  poll_rate: 5\n  queueManagers: # Multiple Queue Manager instances can be specified\n    QM1:\n      channel: "ACE.SVRCONN" # Remote administration channel\n      username: "mqm"\n      password: "Passw0rd"\n'})}),"\n",(0,s.jsxs)(n.p,{children:["Save the changes and exit the editor, press the ",(0,s.jsx)(n.strong,{children:"esc"})," key to enter command mode and write your changes and exit the file by typing:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sh",children:":wq\n"})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"27-further-configuration",children:"2.7: Further Configuration"}),"\n",(0,s.jsxs)(n.p,{children:["After installing an Instana Agent, one of the first things you want to do is set\na Zone name. This allows you to organize your Agents to make them easier to\nfind. The Zones can also be used for custom queries, threshold distribution, and\nmore. In this environment the zone for the ",(0,s.jsx)(n.strong,{children:"mqace"})," server is ",(0,s.jsx)(n.strong,{children:"MQACE"}),", lets update that to ",(0,s.jsx)(n.strong,{children:"IBM MQ & ACE"}),"."]}),"\n",(0,s.jsx)(n.p,{children:"Once again open the configuration.yaml file for editing:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sh",children:"vi configuration.yaml\n"})}),"\n",(0,s.jsxs)(n.p,{children:["Scroll down until you see the section titled ",(0,s.jsx)(n.strong,{children:"# Hardware & Zone"}),". Uncomment\nthe 3 lines of text starting with ",(0,s.jsx)(n.code,{children:"com.instana.plugin.generic.hardware"}),". Change\nthe ",(0,s.jsx)(n.em,{children:"availability-zone"})," to ",(0,s.jsx)(n.strong,{children:"IBM MQ & ACE"}),"."]}),"\n",(0,s.jsx)(n.p,{children:"The section of the configuration.yaml file should look as follows:"}),"\n",(0,s.jsx)(n.admonition,{title:"Important",type:"info",children:(0,s.jsx)(n.p,{children:"This demo environment is provisioned"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",children:'# Hardware & Zone\ncom.instana.plugin.generic.hardware:\n  enabled: true # disabled by default\n  availability-zone: "IBM MQ & ACE"\n'})}),"\n",(0,s.jsxs)(n.p,{children:["In addition to configuring the ",(0,s.jsx)(n.strong,{children:"Zone"})," name, you can specify tags within the\nconfiguration.yaml file."]}),"\n",(0,s.jsxs)(n.p,{children:["Search for the section within the configuration.yaml file titled ",(0,s.jsx)(n.strong,{children:"# Host"}),".\nWithin that section, you see a section for tags. By default this section will be\ncommented out. Uncomment the ",(0,s.jsx)(n.strong,{children:"com.instana.plugin.host"})," section and specify\nsome tags. Add the following:"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"production"})," tag to indicate that this system is a production server."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"MQ"})," tag to indicate the application running on this server."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"ACE"})," tag to indicate the application running on this server."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"TechZone"})," tag to indicate the the server resides in IBM Tech Zone."]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",children:'com.instana.plugin.host:\n  tags:\n    - "production"\n    - "MQ"\n    - "ACE"\n    - "TechZone"\n'})}),"\n",(0,s.jsx)(n.p,{children:"It is possible to specify tags for the Docker and OpenShift versions of the\nInstana Agent, but we are not going to cover that in this lab."}),"\n",(0,s.jsxs)(n.admonition,{type:"info",children:[(0,s.jsx)(n.p,{children:"Zones and Tags can be used for a number of purposes within instana:"}),(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Search for systems within the UI or via the APIs"}),"\n",(0,s.jsx)(n.li,{children:"Assign thresholds to systems with a specific tag or zone name"}),"\n",(0,s.jsx)(n.li,{children:"Build custom dashboards using the tags or zone names and more..."}),"\n"]})]}),"\n",(0,s.jsx)(n.p,{children:"By default, Instana will monitor key processes that are related to the\napplications/middleware that are being monitored. It will also monitor processes\nthat are consuming large amounts of CPU or Memory. Sometimes, customers want to\nensure that specific processes are monitoring. Let's edit the configuration.yaml\nfile to specify some key processes on this ACE/MQ server."}),"\n",(0,s.jsxs)(n.p,{children:["Search within the configuration.yaml file for ",(0,s.jsx)(n.strong,{children:"# Custom processes"})]}),"\n",(0,s.jsx)(n.p,{children:"The section will be commented out by default. Uncomment the section and specify\nthe following processes for monitoring. One process is the cron daemon, which\ncustomers frequently want to monitor. The other two process are related to IBM\nMQ. The section should look like this:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",children:'com.instana.plugin.process:\n  processes:\n    - "crond"\n    - "amqzmgr0"\n    - "runmqlsr"\n'})}),"\n",(0,s.jsx)(n.admonition,{type:"note",children:(0,s.jsxs)(n.p,{children:["There is also a section in the configuration.yaml file where you can specify\nprocesses that you want to ignore. Search for ",(0,s.jsx)(n.strong,{children:"com.instana.ignore"}),"."]})}),"\n",(0,s.jsxs)(n.p,{children:["Save and exit the configuration.yaml file. Press the ",(0,s.jsx)(n.strong,{children:"esc"})," key to enter\nCommand Mode and then write your changes and exit the file by typing:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sh",children:":wq\n"})}),"\n",(0,s.jsx)("span",{className:"hl",children:"As soon as you save your changes to the file, Instana will detect those changes and will start to implement what you have configured."}),"\n",(0,s.jsxs)(n.p,{children:["After a few minutes you will see the updates displayed in the Instana UI on the\n",(0,s.jsx)(n.strong,{children:"Infrastructure Page"})]}),"\n",(0,s.jsxs)(n.admonition,{type:"tip",children:[(0,s.jsxs)(n.p,{children:["The main Instana agent log file is located at\n",(0,s.jsx)(n.code,{children:"/opt/instana/agent/data/log/agent.log"}),". You can watch the log output to see the\nagent discovering entities and potentially any errors or warnings it encounters."]}),(0,s.jsxs)(n.p,{children:["If you haven't seen updates in the Instana UI after 5 minutes you can try\nadjusting your time range filter. Select a shorter range or enable ",(0,s.jsx)(n.strong,{children:"Live"}),"."]}),(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"last-minute",src:t(4403).A+"",width:"2270",height:"1328"})})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"ibm-mq-ace-instana",src:t(3726).A+"",width:"3524",height:"2484"})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"28-summary",children:"2.8: Summary"}),"\n",(0,s.jsx)(n.p,{children:"You learned how to configure the Instana sensor for IBM App Connect Enterprise\n(ACE) and IBM MQ. This includes customizations such as;"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Configuring tags"}),"\n",(0,s.jsx)(n.li,{children:"Setting the zone name"}),"\n",(0,s.jsx)(n.li,{children:"Configuring specific processes to monitor."}),"\n"]}),"\n",(0,s.jsx)(n.hr,{})]})}function d(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}},547:(e,n,t)=>{t.d(n,{A:()=>i});const i=t.p+"assets/images/flowstats-7e19066e02789328bd7475a7907ad30a.png"},1577:(e,n,t)=>{t.d(n,{A:()=>i});const i=t.p+"assets/images/ace-mq-status-6bcf425004059f49bf567a2e21134ccb.png"},2351:(e,n,t)=>{t.d(n,{A:()=>i});const i=t.p+"assets/images/architecture-mqace-configs-a6073b13f02fb8806b118cabae072e5f.png"},2896:(e,n,t)=>{t.d(n,{A:()=>i});const i=t.p+"assets/images/order-engraving-1c78f87007b36c599266a35be6797d8f.png"},3726:(e,n,t)=>{t.d(n,{A:()=>i});const i=t.p+"assets/images/ibm-mq-ace-instana-dfdeb7931328ae17281ab88453443db3.png"},4403:(e,n,t)=>{t.d(n,{A:()=>i});const i=t.p+"assets/images/last-minute-b09373deff0b38d73d739a8f44ae498e.png"},4709:(e,n,t)=>{t.d(n,{A:()=>i});const i=t.p+"assets/images/qot-pods-2d17dc0df5172034a58edd174959034b.png"},6435:(e,n,t)=>{t.d(n,{A:()=>i});const i=t.p+"assets/images/resourcestats-2c0b1391b9d4068da8560053093d6f63.png"},7020:(e,n,t)=>{t.d(n,{A:()=>i});const i=t.p+"assets/images/2022-05-27-14-45-36-27aae9b0bcef0688c4e30d01245c3161.png"},8023:(e,n,t)=>{t.d(n,{A:()=>i});const i=t.p+"assets/images/2022-05-27-14-59-27-c4be3bac2c49e46be6f8fbef806b646b.png"},8453:(e,n,t)=>{t.d(n,{R:()=>r,x:()=>a});var i=t(6540);const s={},o=i.createContext(s);function r(e){const n=i.useContext(o);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:r(e.components),i.createElement(o.Provider,{value:n},e.children)}}}]);